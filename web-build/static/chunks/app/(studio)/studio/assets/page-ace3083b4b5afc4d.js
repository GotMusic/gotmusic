(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2911],{710:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>d});var a=t(4568),i=t(3530),l=t(7620);function d(){let[e,s]=(0,l.useState)([]),[t,d]=(0,l.useState)(!0),[n,r]=(0,l.useState)(null);(0,l.useEffect)(()=>{c()},[]);let c=async()=>{try{d(!0);let e=await fetch("/api/studio/assets?producerId=".concat("mock-producer-123","&limit=20&offset=0"));if(!e.ok)throw Error("Failed to fetch assets: ".concat(e.status));let t=await e.json();s(t.assets||[])}catch(e){r(e instanceof Error?e.message:"Failed to load assets")}finally{d(!1)}};return t?(0,a.jsxs)("section",{"data-testid":"studio-assets-page",className:"space-y-4",children:[(0,a.jsx)("h1",{className:"text-2xl font-semibold",children:"My Assets"}),(0,a.jsx)("div",{className:"grid gap-4",children:[void 0,void 0,void 0].map((e,s)=>(0,a.jsx)("div",{className:"animate-pulse",children:(0,a.jsx)("div",{className:"h-24 bg-fg/5 rounded-md"})},"skeleton-".concat(Date.now(),"-").concat(s)))})]}):n?(0,a.jsxs)("section",{"data-testid":"studio-assets-page",className:"space-y-4",children:[(0,a.jsx)("h1",{className:"text-2xl font-semibold",children:"My Assets"}),(0,a.jsxs)("div",{className:"rounded-md bg-red-50 p-4 text-red-700",children:[(0,a.jsx)("p",{className:"font-medium",children:"Error loading assets"}),(0,a.jsx)("p",{className:"text-sm",children:n}),(0,a.jsx)("button",{type:"button",onClick:c,className:"mt-2 rounded bg-red-600 px-3 py-1 text-sm text-white hover:bg-red-700",children:"Try Again"})]})]}):(0,a.jsxs)("section",{"data-testid":"studio-assets-page",className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h1",{className:"text-2xl font-semibold",children:"My Assets"}),(0,a.jsx)(i.$n,{asChild:!0,children:(0,a.jsx)("a",{href:"/studio/uploads",children:"Upload New"})})]}),0===e.length?(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)("div",{className:"text-4xl mb-4",children:"\uD83D\uDCE6"}),(0,a.jsx)("h3",{className:"text-lg font-medium text-fg/60 mb-2",children:"No assets yet"}),(0,a.jsx)("p",{className:"text-fg/40 mb-4",children:"Upload your first track to get started"}),(0,a.jsx)(i.$n,{asChild:!0,children:(0,a.jsx)("a",{href:"/studio/uploads",children:"Upload Track"})})]}):(0,a.jsx)("div",{className:"grid gap-4",children:e.map(e=>{var s;return(0,a.jsx)(i.Zp,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h3",{className:"font-semibold text-fg",children:e.title}),(0,a.jsxs)("div",{className:"mt-2 flex items-center gap-4 text-sm text-fg/60",children:[(0,a.jsxs)("span",{children:["Created: ",new Date(e.createdAt).toLocaleDateString()]}),e.duration&&(0,a.jsxs)("span",{children:["Duration: ",(e=>{if(!e)return"Unknown";let s=Math.floor(e/60);return"".concat(s,":").concat((e%60).toString().padStart(2,"0"))})(e.duration)]}),e.fileSize&&(0,a.jsxs)("span",{children:["Size: ",(s=e.fileSize)?"".concat((s/1048576).toFixed(1)," MB"):"Unknown"]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"rounded-full px-2 py-1 text-xs font-medium ".concat((e=>{switch(e){case"published":return"text-green-600 bg-green-50";case"draft":return"text-yellow-600 bg-yellow-50";default:return"text-gray-600 bg-gray-50"}})(e.status)),children:e.status}),(0,a.jsx)(i.$n,{variant:"secondary",size:"sm",children:"Edit"})]})]})},e.id)})})]})}},3625:(e,s,t)=>{Promise.resolve().then(t.bind(t,710))}},e=>{e.O(0,[3106,3530,587,18,7358],()=>e(e.s=3625)),_N_E=e.O()}]);