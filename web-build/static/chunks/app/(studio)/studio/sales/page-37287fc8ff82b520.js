(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1470],{5649:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>d});var l=a(4568),t=a(3530),c=a(7620);function d(){let[e,s]=(0,c.useState)(null),[a,d]=(0,c.useState)(!0),[i,r]=(0,c.useState)(null);(0,c.useEffect)(()=>{n()},[]);let n=async()=>{try{d(!0);let e=await fetch("/api/studio/sales");if(!e.ok)throw Error("Failed to fetch sales data: ".concat(e.status));let a=await e.json();s(a)}catch(e){r(e instanceof Error?e.message:"Failed to load sales data")}finally{d(!1)}},o=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e);return a?(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsx)("h1",{className:"text-2xl font-semibold",children:"Sales Dashboard"}),(0,l.jsx)("div",{className:"grid gap-4 md:grid-cols-3",children:[void 0,void 0,void 0].map((e,s)=>(0,l.jsx)("div",{className:"animate-pulse",children:(0,l.jsx)("div",{className:"h-24 bg-fg/5 rounded-md"})},"skeleton-".concat(Date.now(),"-").concat(s)))})]}):i?(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsx)("h1",{className:"text-2xl font-semibold",children:"Sales Dashboard"}),(0,l.jsxs)("div",{className:"rounded-md bg-red-50 p-4 text-red-700",children:[(0,l.jsx)("p",{className:"font-medium",children:"Error loading sales data"}),(0,l.jsx)("p",{className:"text-sm",children:i}),(0,l.jsx)("button",{type:"button",onClick:n,className:"mt-2 rounded bg-red-600 px-3 py-1 text-sm text-white hover:bg-red-700",children:"Try Again"})]})]}):e?(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsx)("h1",{className:"text-2xl font-semibold",children:"Sales Dashboard"}),(0,l.jsxs)("div",{className:"grid gap-4 md:grid-cols-3",children:[(0,l.jsxs)(t.Zp,{className:"p-4",children:[(0,l.jsx)(t.ZB,{children:"Total Sales"}),(0,l.jsx)("div",{className:"text-2xl font-bold text-fg",children:e.summary.totalSales})]}),(0,l.jsxs)(t.Zp,{className:"p-4",children:[(0,l.jsx)(t.ZB,{children:"Total Revenue"}),(0,l.jsx)("div",{className:"text-2xl font-bold text-fg",children:o(e.summary.totalRevenue)})]}),(0,l.jsxs)(t.Zp,{className:"p-4",children:[(0,l.jsx)(t.ZB,{children:"Average Price"}),(0,l.jsx)("div",{className:"text-2xl font-bold text-fg",children:o(e.summary.averagePrice)})]})]}),e.topSelling&&(0,l.jsxs)(t.Zp,{className:"p-4",children:[(0,l.jsx)(t.ZB,{children:"Top Selling Asset"}),(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"font-medium",children:e.topSelling.title}),(0,l.jsxs)("p",{className:"text-sm text-fg/60",children:[e.topSelling.sales," sales • ",o(e.topSelling.revenue)," ","revenue"]})]}),(0,l.jsx)("div",{className:"text-right",children:(0,l.jsx)("div",{className:"text-lg font-semibold text-green-600",children:o(e.topSelling.revenue)})})]})]}),(0,l.jsxs)(t.Zp,{className:"p-4",children:[(0,l.jsx)(t.ZB,{children:"Recent Sales"}),0===e.recentSales.length?(0,l.jsx)("p",{className:"text-fg/60 text-center py-4",children:"No recent sales"}):(0,l.jsx)("div",{className:"space-y-3",children:e.recentSales.map(e=>(0,l.jsxs)("div",{className:"flex items-center justify-between border-b border-fg/10 pb-2 last:border-b-0",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"font-medium",children:e.assetTitle}),(0,l.jsxs)("p",{className:"text-sm text-fg/60",children:["Sold to ",e.buyerId," • ",new Date(e.soldAt).toLocaleDateString()]})]}),(0,l.jsx)("div",{className:"text-right",children:(0,l.jsx)("div",{className:"font-semibold text-green-600",children:o(Number.parseFloat(e.priceAmount))})})]},e.id))})]})]}):(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsx)("h1",{className:"text-2xl font-semibold",children:"Sales Dashboard"}),(0,l.jsx)("p",{className:"text-fg/60",children:"No sales data available"})]})}},6954:(e,s,a)=>{Promise.resolve().then(a.bind(a,5649))}},e=>{e.O(0,[3106,3530,587,18,7358],()=>e(e.s=6954)),_N_E=e.O()}]);